<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Signadji - Explorateur</title>
  <link rel="icon" type="image/png" href="images/logo.png">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- App CSS -->
  <link rel="stylesheet" href="css/style.css">

  <!-- PDF.js (for preview) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
</head>
<body>

  <!-- ===== TOP BAR ===== -->
  <header class="top-bar glass-panel">
    <div class="top-bar__left">
      <a href="index.html" class="btn btn--glass" title="Retour à l'éditeur" style="text-decoration:none;">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="15 18 9 12 15 6"/>
        </svg>
        <span class="btn__label">Retour</span>
      </a>
    </div>
    <div class="top-bar__actions">
      <button id="btn-darkmode" class="btn btn--glass" title="Mode sombre">
        <svg class="icon-sun" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="5"/>
          <line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/>
          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
          <line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/>
          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
        </svg>
        <svg class="icon-moon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/>
        </svg>
      </button>
    </div>
  </header>

  <!-- ===== EXPLORER CONTENT ===== -->
  <main class="explorer">
    <!-- Search & Filters -->
    <div class="explorer__toolbar glass-panel">
      <div class="explorer__search-wrapper">
        <svg class="explorer__search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"/>
          <line x1="21" y1="21" x2="16.65" y2="16.65"/>
        </svg>
        <input type="text" id="search-input" class="explorer__search" placeholder="Rechercher un fichier...">
      </div>
      <div class="explorer__tabs" id="year-tabs">
        <button class="explorer__tab active" data-year="all">Tous</button>
        <button class="explorer__tab" data-year="2026">2026</button>
        <button class="explorer__tab" data-year="2025">2025</button>
        <button class="explorer__tab" data-year="2024">2024</button>
      </div>
      <span class="explorer__count" id="file-count">0 fichiers</span>
    </div>

    <!-- File Grid -->
    <div class="explorer__grid" id="file-grid">
      <!-- Files will be inserted here -->
    </div>

    <!-- Loading state -->
    <div class="explorer__loading" id="loading">
      <div class="explorer__spinner"></div>
      <p>Chargement des fichiers...</p>
    </div>

    <!-- Empty state -->
    <div class="explorer__empty" id="empty-state" hidden>
      <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="opacity:0.4">
        <circle cx="11" cy="11" r="8"/>
        <line x1="21" y1="21" x2="16.65" y2="16.65"/>
      </svg>
      <p>Aucun fichier trouvé</p>
    </div>
  </main>

  <!-- ===== PDF PREVIEW MODAL ===== -->
  <div id="preview-modal" class="modal" hidden>
    <div class="modal__backdrop" id="preview-backdrop"></div>
    <div class="modal__content glass-panel preview-card">
      <div class="preview-card__header">
        <h2 class="preview-card__title" id="preview-title">Fichier.pdf</h2>
        <button id="preview-close" class="btn btn--icon" title="Fermer">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
          </svg>
        </button>
      </div>
      <div class="preview-card__nav">
        <button id="preview-prev" class="btn btn--glass btn--icon" title="Page précédente">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="15 18 9 12 15 6"/>
          </svg>
        </button>
        <span id="preview-page-indicator" class="page-nav__indicator">1 / 1</span>
        <button id="preview-next" class="btn btn--glass btn--icon" title="Page suivante">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="9 6 15 12 9 18"/>
          </svg>
        </button>
      </div>
      <div class="preview-card__body">
        <canvas id="preview-canvas"></canvas>
      </div>
    </div>
  </div>

  <!-- ===== TOAST CONTAINER ===== -->
  <div id="toast-container" class="toast-container"></div>

  <!-- ===== SCRIPTS ===== -->
  <script src="js/explorer.js"></script>
</body>
</html>
